<div class="container">
  <h2>Exibir Usu√°rios</h2>

  <div *ngIf="loading" class="status-message">Carregando usu√°rios...</div>
  <div *ngIf="error" class="status-message error">{{ error }}</div>

  <div *ngIf="!loading && !error && usuarios.length > 0">
    <div class="search-container">
      <input type="text" placeholder="Digite o usu√°rio" [(ngModel)]="filtro" />
      <button class="filter-btn">üîç</button>
    </div>

    <table class="styled-table">
      <thead>
        <tr>
          <th>Usu√°rio</th>
          <th>Nome</th>
          <th>Email</th>
          <th>Perfil</th>
          <th>CH M√≠nima</th>
          <th>Status</th>
          <th>A√ß√µes</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let usuario of usuariosFiltrados">
          <td>{{ usuario.usuario }}</td>
          <td>{{ usuario.nome }}</td>
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.perfis }}</td>
          <td>{{ usuario.cargaHorariaMinima }}</td>
          <td>
            <span class="status" [ngClass]="usuario.status === 'ATIVO' ? 'active' : 'suspended'">
              {{ usuario.status === 'ATIVO' ? 'Ativo' : 'Suspenso' }}
            </span>
            
          </td>
          <td class="actions">
            <button class="icon-button" (click)="abrirDialogoCargaHoraria(usuario)">‚úèÔ∏è</button>
            
            <button class="icon-button">üóëÔ∏è</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="footer">
      <button class="export-btn">Exportar CSV</button>
    </div>
  </div>

  <div *ngIf="!loading && usuarios.length === 0" class="status-message">Nenhum usu√°rio encontrado.</div>
</div>

<!-- Modal de Edi√ß√£o de Carga Hor√°ria -->
<div class="modal" *ngIf="usuarioEditando">
  <div class="modal-content">
    <h3>Editar Carga Hor√°ria</h3>
    <p>Usu√°rio: <strong>{{ usuarioEditando.nome }}</strong></p>

    <label>
      Nova Carga Hor√°ria:
      <input type="number" [(ngModel)]="novaCargaHoraria" />
    </label>

    <div class="modal-actions">
      <button class="btn cancel" (click)="cancelarEdicao()">Cancelar</button>
      <button class="btn confirm" (click)="confirmarEdicao()">Confirmar</button>
    </div>
  </div>
</div>
